<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>해정뉴스</title>
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-messaging-compat.js"></script>
    
    <!-- Font -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700;900&display=swap" rel="stylesheet">
    
    <!-- PWA 설정 (상대 경로로 수정) -->
    <link rel="manifest" href="./manifest.json">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="해정뉴스">
    
    <!-- Favicon (상대 경로로 수정) -->
    <link rel="icon" type="image/png" sizes="32x32" href="./favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./favicon/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="192x192" href="./favicon/android-icon-192x192.png">
    
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Custom CSS 경로 수정 -->
<link rel="stylesheet" href="./css/style.css">
</head>
<body>


    <div class="header-content">
        <div class="logo-section">
            <h1 class="logo">📰 해정뉴스</h1>
            <p class="logo-sub">해정이의 개 쩌는 뉴스사이트</p>
        </div>
        <div class="header-right">
            <div class="money-display" id="headerMoney" onclick="showMoneyDetail()">
                <i class="fas fa-coins"></i>
                <span id="moneyAmount">0</span>원
            </div>
            <button class="profile-btn" id="headerProfileBtn" onclick="toggleProfileMenu()">
                <i class="fas fa-user-circle"></i>
            </button>
        </div>
    </div>
    
    <!-- 프로필 드롭다운 메뉴 -->
    <div class="profile-dropdown" id="profileDropdown">
        <div id="profileDropdownContent"></div>
    </div>
</header>

<!-- 하단 네비게이션 바 -->
<nav class="bottom-nav">
    <button class="nav-btn active" onclick="showArticles()" data-section="articles">
        <i class="fas fa-home"></i>
        <span>홈</span>
    </button>
    <button class="nav-btn" onclick="showWritePage()" data-section="write">
        <i class="fas fa-pen"></i>
        <span>작성</span>
    </button>
    <button class="nav-btn" onclick="showSettings()" data-section="settings">
        <i class="fas fa-cog"></i>
        <span>설정</span>
    </button>
    <button class="nav-btn" onclick="showMoreMenu()" data-section="more">
        <i class="fas fa-ellipsis-h"></i>
        <span>더보기</span>
    </button>
</nav>

<!-- 메인 컨텐츠 영역 -->
<main class="main-content">

<!-- 홈 섹션 -->
<section class="page-section active" id="articlesSection">
    <div class="search-bar">
        <select id="searchCategory" class="search-select">
            <option value="">전체</option>
            <option>자유게시판</option>
            <option>논란</option>
            <option>저격</option>
            <option>비난</option>
            <option>연애</option>
            <option>정아영</option>
            <option>게넥도</option>
        </select>
        <div class="search-input-wrapper">
            <input id="searchKeyword" placeholder="검색..." class="search-input">
            <button onclick="searchArticles()" class="search-btn">
                <i class="fas fa-search"></i>
            </button>
        </div>
    </div>
    
    <div class="sort-chips">
        <button onclick="sortArticles('latest', this)" class="chip active">최신순</button>
        <button onclick="sortArticles('oldest', this)" class="chip">오래된순</button>
        <button onclick="sortArticles('views', this)" class="chip">인기순</button>
        <button onclick="sortArticles('likes', this)" class="chip">추천순</button>
    </div>

    <div id="adSection"></div>
    <div id="pinnedSection"></div>
    <div id="featuredArticle"></div>
    <div id="articlesGrid"></div>
    <div id="loadMoreContainer" class="load-more"></div>
</section>

<!-- 자유게시판 섹션 -->
<section class="page-section" id="freeboardSection">
    <div class="section-header">
        <button onclick="showMoreMenu()" class="btn-back">
            <i class="fas fa-arrow-left"></i>
        </button>
        <h2>💬 자유게시판</h2>
    </div>
    
    <div class="search-bar">
        <div class="search-input-wrapper">
            <input id="freeboardSearchKeyword" placeholder="검색..." class="search-input">
            <button onclick="searchFreeboardArticles()" class="search-btn">
                <i class="fas fa-search"></i>
            </button>
        </div>
    </div>
    
    <div class="sort-chips">
        <button onclick="sortFreeboardArticles('latest', this)" class="chip active">최신순</button>
        <button onclick="sortFreeboardArticles('oldest', this)" class="chip">오래된순</button>
        <button onclick="sortFreeboardArticles('views', this)" class="chip">인기순</button>
        <button onclick="sortFreeboardArticles('likes', this)" class="chip">추천순</button>
    </div>

    <div id="freeboardGrid"></div>
    <div id="freeboardLoadMoreContainer" class="load-more"></div>
</section>

<!-- 상점 섹션 -->
<section class="page-section" id="shopSection">
    <div class="section-header">
        <button onclick="showMoreMenu()" class="btn-back">
            <i class="fas fa-arrow-left"></i>
        </button>
        <h2>🛍️ 상점</h2>
    </div>
    
    <div id="shopContent"></div>
</section>

<!-- 인벤토리 섹션 -->
<section class="page-section" id="inventorySection">
    <div class="section-header">
        <button onclick="showMoreMenu()" class="btn-back">
            <i class="fas fa-arrow-left"></i>
        </button>
        <h2>🎁 인벤토리</h2>
    </div>
    
    <div id="inventoryContent"></div>
</section>

<!-- index.html에서 더보기 섹션을 찾아 이 코드로 교체하세요 -->

<!-- 더보기 섹션 -->
<section class="page-section" id="moreMenuSection">
    <div class="more-menu-grid">
        <!-- ⭐ 프로필 사진 설정 버튼 추가 -->
        <button onclick="openProfilePhotoModal()" class="more-card">
            <i class="fas fa-user-circle"></i>
            <span>프로필 사진</span>
        </button>
        
        <button onclick="showFreeboard()" class="more-card">
            <i class="fas fa-comments"></i>
            <span>자유게시판</span>
        </button>
        <button onclick="showMessenger()" class="more-card">
            <i class="fas fa-envelope"></i>
            <span>메신저</span>
            <span class="notification-badge" id="messengerBadge" style="display:none;"></span>
        </button>
        <!-- 더보기 섹션에 추가 -->
<button onclick="showInventoryPage()" class="more-card">
    <i class="fas fa-box-open"></i>
    <span>인벤토리</span>
</button>
        <button onclick="showShop()" class="more-card">
    <i class="fas fa-shopping-bag"></i>
    <span>상점</span>
</button>
        <button onclick="showAdminEvent()" class="more-card" id="moreEventBtn" style="display:none;">
            <i class="fas fa-crown"></i>
            <span>VIP 전용 관리</span>
        </button>
        <button onclick="showEventMenu()" class="more-card">
            <i class="fas fa-gift"></i>
            <span>이벤트</span>
        </button>
        <button onclick="showCouponPage()" class="more-card">
            <i class="fas fa-ticket-alt"></i>
            <span>쿠폰</span>
        </button>
        <button onclick="showPatchNotesPage()" class="more-card">
            <i class="fas fa-file-alt"></i>
            <span>패치노트</span>
        </button>
        <button onclick="showQnA()" class="more-card">
            <i class="fas fa-question-circle"></i>
            <span>QnA</span>
        </button>
    </div>
</section>

<!-- 메신저 섹션 -->
<section class="page-section" id="messengerSection">
    <div class="section-header">
        <button onclick="showMoreMenu()" class="btn-back">
            <i class="fas fa-arrow-left"></i>
        </button>
        <h2>📨 메신저</h2>
        <button onclick="markAllAsRead()" class="btn-text" style="margin-left:auto;font-size:13px;color:var(--primary-color);">
            모두 읽음
        </button>
    </div>
    
    <div class="messenger-filters">
        <button onclick="filterNotifications('all')" class="filter-chip active" data-filter="all">전체</button>
        <button onclick="filterNotifications('article')" class="filter-chip" data-filter="article">새 기사</button>
        <button onclick="filterNotifications('comment')" class="filter-chip" data-filter="comment">댓글</button>
        <button onclick="filterNotifications('myArticleComment')" class="filter-chip" data-filter="myArticleComment">내 기사</button>
    </div>
    
    <div id="notificationsList"></div>
</section>

<!-- 작성 섹션 -->
<section class="page-section" id="writeSection">
    <div class="section-header">
        <h2>✏️ 기사 작성</h2>
    </div>
    
    <form id="articleForm" class="write-form">
        <div class="form-group">
            <label>카테고리</label>
            <select id="category" class="form-control">
                <option>자유게시판</option>
                <option>논란</option>
                <option>저격</option>
                <option>비난</option>
                <option>연애</option>
                <option>정아영</option>
                <option>게넥도</option>
            </select>
        </div>
        
        <div class="form-group">
            <label>제목</label>
            <input id="title" class="form-control" required placeholder="기사 제목을 입력하세요">
        </div>
        
        <div class="form-group">
            <label>썸네일 이미지</label>
            <div class="image-upload-area" onclick="document.getElementById('thumbnailInput').click()">
                <div id="uploadText">
                    <i class="fas fa-camera"></i>
                    <p>클릭하여 이미지 업로드</p>
                </div>
                <img id="thumbnailPreview" class="image-preview" style="display:none;">
            </div>
            <input type="file" id="thumbnailInput" accept="image/*" style="display:none;">
        </div>
        
        <div class="form-group">
            <label>요약 (선택)</label>
            <input id="summary" class="form-control" placeholder="기사 요약">
        </div>
        
        <div class="form-group">
            <label>내용</label>
            <textarea id="content" class="form-control" required placeholder="기사 내용을 입력하세요"></textarea>
        </div>
        
        <div id="bannedWordWarning" class="warning-box"></div>
        
        <button type="submit" class="btn-primary btn-block">
            <i class="fas fa-paper-plane"></i> 발행하기
        </button>
    </form>
</section>

<!-- 설정 섹션 - 이 전체를 교체하세요 -->
<section class="page-section" id="settingsSection">
    <div class="section-header">
        <h2>⚙️ 설정</h2>
    </div>
    
    <!-- ⭐ 프로필 카드 (프로필 사진 버튼 포함) -->
    <div id="profileNickname" class="profile-card">
        <!-- 여기에 동적으로 내용이 로드됩니다 -->
    </div>
    
    <!-- 알림 설정 -->
    <div class="settings-card">
        <h3>🔔 알림 설정</h3>
        <label class="toggle-label">
            <input type="checkbox" id="notificationToggle" onchange="toggleNotifications()" checked>
            <span class="toggle-slider"></span>
            <div class="toggle-text">
                <strong>알림 받기</strong>
                <small>내 기사의 댓글 및 팔로우한 사용자의 활동 알림</small>
            </div>
        </label>
        <div id="notificationStatus" class="notification-status"></div>
        
        <div id="followUsersSection" style="margin-top:20px;"></div>
    </div>
    
    <button onclick="logoutAdmin()" class="btn-secondary btn-block">
        <i class="fas fa-sign-out-alt"></i> 로그아웃
    </button>
    
    <button onclick="showQnA()" class="btn-success btn-block">
        <i class="fas fa-question-circle"></i> QnA / 공지사항
    </button>
    
    <button onclick="showPatchNotesPage()" class="btn-info btn-block">
        <i class="fas fa-file-alt"></i> 패치노트
    </button>
    
    <div id="adminModeIndicator"></div>
    
    <div class="settings-divider"></div>
    
    <h3 class="section-title">🛡️ 관리</h3>
    <button onclick="openAdminAuthModal()" class="btn-info btn-block">
        <i class="fas fa-user-shield"></i> 관리자 로그인
    </button>
    <button onclick="showUserManagement()" class="btn-primary btn-block">
        <i class="fas fa-users"></i> 사용자 관리
    </button>
</section>

<!-- QnA 섹션 -->
<section class="page-section" id="qnaSection">
    <div class="section-header">
        <button onclick="showSettings()" class="btn-back">
            <i class="fas fa-arrow-left"></i>
        </button>
        <h2>❓ QnA</h2>
    </div>
    
    <div class="tab-buttons">
        <button onclick="showQnATab()" class="tab-btn active" id="qnaTabBtn">
            📋 QnA
        </button>
        <button onclick="showPatchNotesTab()" class="tab-btn" id="patchTabBtn">
            📄 패치노트
        </button>
    </div>
    
    <div class="info-text">
        ※ QnA 내용은 관리자가 작업폴더의 <b>QnA.html</b> 파일에서 직접 수정합니다.
    </div>
    
    <div id="qnaList"></div>
    <div id="patchNotesContainer" style="display:none;"></div>
</section>

<!-- 패치노트 섹션 -->
<section class="page-section" id="patchnotesSection">
    <div class="section-header">
        <button onclick="showSettings()" class="btn-back">
            <i class="fas fa-arrow-left"></i>
        </button>
        <h2>📄 패치노트</h2>
    </div>
    
    <div class="info-text">
        📌 사이트의 업데이트 내역과 변경사항을 확인하세요.
    </div>
    
    <div id="patchNotesList"></div>
</section>

<!-- 기사 상세 섹션 -->
<section class="page-section" id="articleDetailSection">
    <div class="section-header">
        <button onclick="goBack()" class="btn-back">
            <i class="fas fa-arrow-left"></i>
        </button>
        <h2>기사</h2>
    </div>
    
    <div id="articleDetail"></div>
    
    <div class="comments-section">
        <h3>💬 댓글 <span id="commentCount"></span></h3>
        <div id="comments"></div>
        <div id="loadMoreComments" class="load-more"></div>
        
        <div class="comment-input-wrapper">
            <input id="commentInput" placeholder="댓글 입력" class="comment-input">
            <button onclick="submitCommentFromDetail()" class="comment-submit-btn">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
    </div>
</section>

<!-- 사용자 관리 섹션 -->
<section class="page-section" id="userManagementSection">
    <div class="section-header">
        <button onclick="showSettings()" class="btn-back">
            <i class="fas fa-arrow-left"></i>
        </button>
        <h2>👥 사용자 관리</h2>
    </div>
    
    <div class="admin-actions">
    <button onclick="showBannedWordManager()" class="btn-secondary">
        <i class="fas fa-ban"></i> 금지어 관리
    </button>
    <button onclick="showPopupManager()" class="btn-info">
        <i class="fas fa-bullhorn"></i> 팝업 관리
    </button>
    <button onclick="showMaintenanceManager()" class="btn-warning" style="grid-column: span 2;">
        <i class="fas fa-tools"></i> 점검 모드 설정
    </button>
</div>
    
    <div id="usersList"></div>
</section>

<!-- 관리자 이벤트 섹션 -->
<section class="page-section" id="adminEventSection">
    <div class="section-header">
        <button onclick="showMoreMenu()" class="btn-back">
            <i class="fas fa-arrow-left"></i>
        </button>
        <h2>👑 VIP 전용 관리</h2>
    </div>
    
    <div class="admin-event-grid">
        <button onclick="showPinManager()" class="event-card">
            <i class="fas fa-thumbtack"></i>
            <span>기사 고정 관리</span>
        </button>
        <button onclick="showAdManager()" class="event-card">
            <i class="fas fa-ad"></i>
            <span>광고 관리</span>
        </button>
    </div>
    
    <div id="eventContent"></div>
</section>

<!-- 이벤트 메뉴 섹션 -->
<section class="page-section" id="eventMenuSection">
    <div class="section-header">
        <button onclick="showMoreMenu()" class="btn-back">
            <i class="fas fa-arrow-left"></i>
        </button>
        <h2>🎮 이벤트</h2>
    </div>
    
    <div class="event-menu-grid">
        <button onclick="showCatchMind()" class="event-card">
            <i class="fas fa-gamepad"></i>
            <span>캐치마인드</span>
        </button>
    </div>
</section>

<!-- 캐치마인드 게임 섹션 -->
<section class="page-section" id="catchMindSection">
    <div class="section-header">
        <button onclick="showEventMenu()" class="btn-back">
            <i class="fas fa-arrow-left"></i>
        </button>
        <h2>🎨 캐치마인드</h2>
    </div>
    
    <div id="catchMindContent"></div>
</section>

<!-- 쿠폰 섹션 -->
<section class="page-section" id="couponSection">
    <div class="section-header">
        <button onclick="showMoreMenu()" class="btn-back">
            <i class="fas fa-arrow-left"></i>
        </button>
        <h2>🎟️ 쿠폰</h2>
    </div>
    
    <div class="coupon-input-card">
        <h3>쿠폰 입력</h3>
        <div class="coupon-input-wrapper">
            <input id="couponCodeInput" placeholder="쿠폰 코드를 입력하세요" class="form-control">
            <button onclick="redeemCoupon()" class="btn-primary">사용하기</button>
        </div>
    </div>
    
    <div id="couponHistory"></div>
</section>

<!-- 팝업 -->
<div id="mainPopupOverlay" class="main-popup-overlay">
    <div class="main-popup">
        <div class="popup-body">
            <h3 id="popupTitleDisplay" class="popup-title">공지사항</h3>
            <p id="popupContentDisplay" class="popup-content">공지 내용이 들어갑니다.</p>
        </div>
        <div class="popup-footer">
            <button class="popup-btn dont-show" onclick="closePopupToday()">오늘 하루 보지 않기</button>
            <button class="popup-btn close" onclick="closePopup()">확인</button>
        </div>
    </div>
</div>

<!-- 모달들 -->
<div id="adminAuthModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3>🔒 관리자 로그인</h3>
            <button onclick="closeAdminAuthModal()" class="modal-close">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <form id="adminAuthForm">
            <div class="form-group">
                <label>이메일</label>
                <input id="adminEmail" type="email" class="form-control" required>
            </div>
            <div class="form-group">
                <label>비밀번호</label>
                <input id="adminPw" type="password" class="form-control" required>
            </div>
            <button type="submit" class="btn-primary btn-block">로그인</button>
        </form>
    </div>
</div>

<div id="userDetailModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3>👤 사용자 상세</h3>
            <button onclick="closeUserDetail()" class="modal-close">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div id="userDetailContent"></div>
    </div>
</div>

<div id="adCreateModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3>📢 광고 제작</h3>
            <button onclick="closeAdCreateModal()" class="modal-close">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <form id="adCreateForm">
            <div class="form-group">
                <label>광고 제목</label>
                <input id="adTitle" class="form-control" required>
            </div>
            <div class="form-group">
                <label>광고 내용</label>
                <textarea id="adContent" class="form-control" required></textarea>
            </div>
            <div class="form-group">
                <label>링크 URL (선택)</label>
                <input id="adLink" class="form-control" placeholder="https://example.com">
            </div>
            <div class="form-group">
                <label>배경 색상</label>
                <select id="adColor" class="form-control">
                    <option value="#fff3cd">노란색 (기본)</option>
                    <option value="#d1ecf1">파란색</option>
                    <option value="#d4edda">녹색</option>
                    <option value="#f8d7da">빨간색</option>
                    <option value="#e2e3e5">회색</option>
                </select>
            </div>
            <button type="submit" class="btn-primary btn-block">광고 생성</button>
        </form>
    </div>
</div>

<div id="bannedWordsModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3>🚫 금지어 설정</h3>
            <button onclick="closeBannedWordsModal()" class="modal-close">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <p class="info-text">
            기사 제목이나 내용에 아래 단어가 포함되면 업로드가 차단되고 경고가 주어집니다.<br>
            여러 단어는 <b>콤마(,)</b>로 구분해서 입력해주세요.
        </p>
        <div class="form-group">
            <textarea id="bannedWordsInput" class="form-control" placeholder="예: 아이스크림, 나쁜말, 혐오표현"></textarea>
        </div>
        <button onclick="saveBannedWords()" class="btn-primary btn-block">저장하기</button>
    </div>
</div>

<div id="popupManagerModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3>📢 팝업 설정</h3>
            <button onclick="closePopupManager()" class="modal-close"><i class="fas fa-times"></i></button>
        </div>
        <form id="popupForm" onsubmit="savePopupSettings(event)">
            <div class="form-group">
                <label>활성화 여부</label>
                <label class="toggle-label">
                    <input type="checkbox" id="popupActiveToggle">
                    <span class="toggle-slider"></span>
                    <span class="toggle-text"><strong>팝업 띄우기</strong></span>
                </label>
            </div>
            <div class="form-group">
                <label>팝업 제목</label>
                <input id="popupTitleInput" class="form-control" placeholder="예: 긴급 공지">
            </div>
            <div class="form-group">
                <label>팝업 내용</label>
                <textarea id="popupContentInput" class="form-control" placeholder="내용을 입력하세요"></textarea>
            </div>
            <button type="submit" class="btn-primary btn-block">저장 및 적용</button>
        </form>
    </div>
</div>

<div id="patchNoteModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3>📄 패치노트 작성</h3>
            <button onclick="closePatchNoteModal()" class="modal-close"><i class="fas fa-times"></i></button>
        </div>
        <form id="patchNoteForm" onsubmit="savePatchNote(event)">
            <input type="hidden" id="editPatchId">
            <div class="form-group">
                <label>버전 (예: v1.2.0)</label>
                <input id="patchVersion" class="form-control" required>
            </div>
            <div class="form-group">
                <label>업데이트 날짜</label>
                <input type="date" id="patchDate" class="form-control" required>
            </div>
            <div class="form-group">
                <label>변경 사항</label>
                <textarea id="patchContent" class="form-control" placeholder="- 버그 수정&#10;- 새로운 기능 추가" required></textarea>
            </div>
            <button type="submit" class="btn-primary btn-block">게시하기</button>
        </form>
    </div>
</div>

<div id="maintenanceOverlay" class="maintenance-overlay">
    <div class="maintenance-box">
        <div class="maintenance-icon">
            <i class="fas fa-tools"></i>
        </div>
        <h2 id="mtTitle" class="maintenance-title">시스템 점검 중입니다</h2>
        <div id="mtImageContainer" class="maintenance-img-wrapper"></div>
        <p id="mtMessage" class="maintenance-message">
            더 나은 서비스를 위해 서버 점검을 진행하고 있습니다.<br>
            이용에 불편을 드려 죄송합니다.
        </p>
        <div class="maintenance-footer">
    <p id="mtTime"></p>
    <button onclick="closeMaintenanceScreen()" class="btn-primary" style="margin-top:15px; background-color: #5f6368; border: none;">
        <i class="fas fa-sign-out-alt"></i> 나가기
    </button>
</div>
    </div>
</div>

<div id="maintenanceModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3>🛠️ 점검 모드 관리</h3>
            <button onclick="closeMaintenanceModal()" class="modal-close">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <form id="maintenanceForm" onsubmit="saveMaintenanceSettings(event)">
            <div class="form-group">
                <label class="toggle-label" style="background: #fff3cd; border: 1px solid #ffeeba;">
                    <input type="checkbox" id="mtActiveToggle">
                    <span class="toggle-slider"></span>
                    <div class="toggle-text">
                        <strong style="color:#856404;">점검 모드</strong>
                        <small>켜면 관리자와 허용된 유저 외에는 접속이 차단됩니다.</small>
                    </div>
                </label>
            </div>
            
            <div class="form-group">
                <label>점검 제목</label>
                <input id="mtTitleInput" class="form-control" placeholder="예: 긴급 서버 점검 안내">
            </div>
            
            <div class="form-group">
                <label>점검 안내 문구 (줄바꿈 가능)</label>
                <textarea id="mtMessageInput" class="form-control" placeholder="점검 사유 및 예상 시간을 적어주세요"></textarea>
            </div>

            <div class="form-group">
                <label>이미지 URL (선택)</label>
                <input id="mtImgInput" class="form-control" placeholder="https://example.com/image.jpg">
            </div>

            <div class="form-group">
                <label>접속 허용 유저 (이메일)</label>
                <p class="info-text">점검 중에도 접속 가능한 사용자의 이메일을 <b>콤마(,)</b>로 구분해 입력하세요.<br>(관리자는 자동 포함됩니다)</p>
                <textarea id="mtAllowedUsers" class="form-control" placeholder="user1@test.com, user2@test.com"></textarea>
            </div>

            <button type="submit" class="btn-primary btn-block">설정 저장 및 적용</button>
        </form>
    </div>
</div>

</main>

<!-- 쿠폰 페이지 -->
<div id="couponSection" class="page-section">
    <div id="couponContent"></div>
</div>

<!-- 하단의 스크립트 경로들 수정 -->
<script src="./js/profile-photo-system.js"></script>
<script src="./js/shop-system.js"></script>
<script src="./js/script.js"></script>
<script src="./js/christmas-sound-system.js"></script>

</body>
</html>
